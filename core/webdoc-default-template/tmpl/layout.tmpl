<?js
/**
 * Global layout render component.
 */
const rootData = obj;
const appBar = rootData.appBar;
const pages = rootData.pages;
const manifest = rootData.manifest;
const document = rootData.document;
const explorerData = rootData.explorerData;
const config = rootData.env.template;
const siteRoot = this.getPlugin("linker").siteRoot;
const sitePrefix = siteRoot ? siteRoot + "/" : siteRoot;
const integrations = JSON.stringify(config.integrations);
const cssPageKind =
    document && document.type === "TutorialDoc" ? "tutorials" :
    document ? "api-docs" :
    obj.raw ? "sources" :
    "";
?>
<!-- Generated by webdoc on <?js= new Date().toLocaleString() + " " + Intl.DateTimeFormat().resolvedOptions().timeZone ?> -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title><?js= config.title || config.applicationName ?>: <?js= title ?></title>

    <?js= this.partial("snippets/analytics.tmpl", { templateConfig: config }) ?>

    <?js if (config.variant !== "plain") { ?>
        <link type="text/css" rel="stylesheet" href="/<?js= sitePrefix ?>styles/index.css" />
    <?js } ?>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono&family=Roboto+Mono&family=Source+Code+Pro&display=swap" />
    <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/googlecode.min.css">
    <?js Object.keys(config.meta).forEach((key) => { ?>
      <meta name="<?js= key ?>" content="<?js= config.meta[key].replace("{{url}}", `${config.siteDomain}`) ?>" />
    <?js }); ?>

    <?js config.stylesheets.forEach((file) => { ?>
      <link rel="stylesheet" type="text/css" href="<?js= "/" + sitePrefix + file ?>" />
    <?js }); ?>

    <?js if (config.variant !== "plain") { ?>
      <script>
        window.appData = {
          applicationName: `<?js= config.applicationName ?>`,
          appBar: <?js= JSON.stringify(appBar) ?>,
          pages: <?js= JSON.stringify(pages) ?>,
          explorerTree: "<?js= (siteRoot ? "/" + siteRoot : "") + "/explorer/" + (document && document.type === "TutorialDoc" ? "tutorials" : "reference") + ".json" ?>",
          siteRoot: "<?js= siteRoot ?>",
          integrations: JSON.parse(`<?js= integrations ?>`),
          manifest: `<?js= manifest.url ?>`,
        };
      </script>
      <script crossorigin src="/<?js= sitePrefix ?>scripts/vendor/react-v16.14.0.production.min.js" defer></script>
      <script crossorigin src="/<?js= sitePrefix ?>scripts/vendor/react-dom-v16.14.0.production.min.js" defer></script>
      <?js if (config.integrations.search && config.integrations.search.provider === "algolia") { ?>
        <script crossorigin src="https://cdn.jsdelivr.net/npm/docsearch.js@2.6.3/dist/cdn/docsearch.min.js" defer></script>
        <link type="text/css" rel="stylesheet" href="/<?js= sitePrefix ?>styles/algolia.css" />
      <?js } ?>
      <script src="/<?js= sitePrefix ?>scripts/default-template.js" defer></script>
    <?js } ?>
  </head>
  <body class="root">
    <div class="docs <?js= cssPageKind ?>">
      <article class="page">
        <div class="header-content-container">
          <section class="header" id="header-mount-point">
            <?js if (config.variant === "plain") { ?>
              <?js=
                this.partial("header", {
                  appBar,
                  applicationName: config.applicationName,
                  explorerData,
                })
              ?>
            <?js } ?>
          </section>
          <div class="header-content-container__content">
            <div class="page-explorer" id="explorer-mount-point">
              <?js if (config.variant === "plain") { ?>
                  <?js=
                    this.partial("explorer", {
                      explorerData,
                    })
                  ?>
              <?js } ?>
            </div>
            <?js /* Includes content and member-explorer. */ ?>
            <?js= content ?>
            <!-- footer in content -->
          </div>
          <div class="bottom-banner">
              <?js= this.partial("bottom-banner", { appBar, explorerData }) ?>
          </div>
          <div class="watermark">
            <span class="watermark-text">
              Powered by <a href="https://www.webdoclabs.com">webdoc</a>!
             </span>
          </div>
        </div>
      </article>
    </div>
    <script src="/<?js= sitePrefix ?>scripts/vendor/mermaid-9.1.6.min.js" defer></script>
    <script>
      document.addEventListener("DOMContentLoaded", () =>
        mermaid.initialize({ startOnLoad: true, theme: 'base' })
      );
    </script>
  </body>
</html>
